# Export Package Lists

Export comprehensive package information from the connected Android device.

## Task

Create timestamped package exports in multiple formats for tracking and analysis.

### Steps

1. **Verify Connection**:
   - Check `adb devices` to confirm device is connected
   - If no device, prompt user to connect

2. **Create Timestamp**:
   - Generate current timestamp in format: YYYY-MM-DD-HHMMSS
   - Use for all export filenames

3. **Export All Packages**:
   - Run: `adb shell pm list packages -f`
   - Save to: `packages/packages-{timestamp}.txt`
   - Include header with device info and package count

4. **Export System Packages**:
   - Run: `adb shell pm list packages -s -f`
   - Save to: `packages/system-packages-{timestamp}.txt`

5. **Export User Packages**:
   - Run: `adb shell pm list packages -3 -f`
   - Save to: `packages/user-packages-{timestamp}.txt`

6. **Export Disabled Packages**:
   - Run: `adb shell pm list packages -d`
   - Save to: `packages/disabled-packages-{timestamp}.txt`

7. **Export Enabled Packages**:
   - Run: `adb shell pm list packages -e`
   - Save to: `packages/enabled-packages-{timestamp}.txt`

8. **Optional: Package Sizes**:
   - For each user package, get approximate size
   - Create summary in: `packages/package-sizes-{timestamp}.txt`
   - Format: `{package.name}: {size}`

### File Format

Each export file should include a header:
```
# {Export Type} Package List
# Exported: {timestamp}
# Device: {manufacturer} {model}
# Android Version: {version}
# Total Packages: {count}
#
# Generated by Claude Code ADB Workspace
#

[package listings]
```

### Summary Output

After completion, provide:
- Total packages found
- Breakdown by type (system/user)
- Number of disabled packages
- Location of export files
- Comparison with previous export if available (number of changes)

## Notes

- All exports are timestamped for historical tracking
- Exports are saved in `packages/` directory
- Compare with previous exports to identify changes
- User can specify custom filename prefix if desired
